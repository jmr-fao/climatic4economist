% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/find_spell.R
\name{find_spell}
\alias{find_spell}
\title{Compute Spells of Extreme Values}
\usage{
find_spell(extr_day, min_spell = 2)
}
\arguments{
\item{extr_day}{A data frame containing daily extreme values, with columns:
\itemize{
\item \code{ID}: Unique identifier for each entity.
\item \code{date}: The date of observation.
\item \code{value}: The observed value.
\item \verb{day_abv_*}: Binary indicators for exceeding upper thresholds.
\item \verb{day_blw_*}: Binary indicators for falling below lower thresholds.
}}

\item{min_spell}{Integer. The minimum number of consecutive days required to form a spell. Default is 2.}
}
\value{
A data frame with:
\itemize{
\item \code{ID}, \code{date}, \code{value}, and optionally \code{month} from \code{extr_day}.
\item Computed spell durations for both above-threshold and below-threshold events.
}
}
\description{
This function identifies consecutive occurrences (spells) of extreme values
in a dataset, given a minimum spell length. It computes both above-threshold
and below-threshold spells.
}
\examples{
df <- data.frame(
  ID = c(1, 1, 1, 2, 2),
  date = as.Date(c("2024-01-01", "2024-01-02", "2024-01-03", "2024-01-01", "2024-01-02")),
  value = c(10, 12, 15, 8, 7),
  day_abv_90p = c(0, 1, 1, 0, 0),
  day_blw_10p = c(1, 0, 0, 1, 1)
)
find_spell(df, min_spell = 2)
}
